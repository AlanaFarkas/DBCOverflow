<h1><%= @question.title %></h1>

<div id="question-body-container">
  <%= erb :'/questions/_questions-vote-form', layout: false, locals: {question: @question} %>

  <p id="q-body"><%= @question.body %></p>
  <% @question.tags.each do |tag| %>
    <ul>
    Tags:<li class="tag-item"><%= tag.name %></li>
    </ul>
   <% end %>

  <% if @current_user &&  @question.user.id == @current_user.id %>
    <p><a href="/questions/<%=@question.id%>/edit">Edit Question</a></p>
  <% end %>

  <p>Author: <a href="/users/<%= @question.user.id %>"><%= @question.user.username %></a></p>
  <p>posted <%= @question.time_since_creation %> hours ago</p>

  <div id="question-comments-container">
    <h4> Comments </h4>
    <div id="question-comment-list">
      <%  @question.comments.each do |comment| %>
        <%= erb :'/comments/_questions-comments', locals: {comment: comment} %>
      <% end %>
    </div>
    <% if logged_in? %>
      <%= erb :'/comments/_comments-new-questions', locals: {question: @question} %>
    <% else %>
      <p><a href='/user/new'>Sign Up</a> or <a href='/login'>Login</a> to comment</p>
    <% end %>
  </div>
</div>

<div id="answer-list">
  <div id="number-answers">
    <h2>Answers</h2>
  </div>

  <% @question.answers.each do |answer| %>
    <%= erb :'/answers/_answers', locals: {answer: answer} %>
  <% end %>
</div>

<div id="post-answer-container">
  <h2>Post an Answer</h2>

  <% if logged_in? %>
    <%= erb :'/answers/_answers-form', locals: {question: @question} %>
  <% else %>
    <p><a href='/user/new'>Sign Up</a> or <a href='/login'>Login</a> to comment</p>
  <% end %>
</div>
